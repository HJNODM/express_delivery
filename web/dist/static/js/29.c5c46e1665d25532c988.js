webpackJsonp([29],{"4dl+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("gUGA"),o=r.n(n),a=r("LHyU"),i=r("aozt"),s=r.n(i),c=r("6T4k"),l={data:function(){return{notReceiveOrder:[],currentPage:1,pageSize:10,totalOrder:0,showPagination:!0,rightOptBtn:"notReceiveBtn",titleList:[{id:1,columnTitle:"发布时间",prop:"createTime",sortable:!0},{id:2,columnTitle:"价格(元)",prop:"Price",sortable:!0},{id:3,columnTitle:"类型",prop:"goodsTpye",sortable:!1},{id:4,columnTitle:"数量",prop:"goodsNumber",sortable:!0}]}},components:{wokerOrderList:a.a},mounted:function(){this.getAllUserOrderList()},methods:{getAllUserOrderList:function(){var e=this,t=this.$loading({lock:!0,text:"玩命加载中..."});s.a.get("/wokers/allUserOrder?size="+this.pageSize+"&page="+this.currentPage).then(function(r){var n=r.data;t.close(),"0"==n.status?(e.notReceiveOrder=n.result.notReceiveOrder,e.totalOrder=o()(n.result.totalOrder),e.totalOrder<=e.pageSize&&(e.showPagination=!1)):console.log(n.msg)}).catch(function(e){console.log(e)})},handleReceiveOrder:function(e){var t=this;this.$confirm("接收订单后不可取消, 是否接单?","接收订单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r=t.$loading({lock:!0,text:"玩命加载中..."});s.a.post("/wokers/receiveOrder",e).then(function(e){var n=e.data;r.close(),"0"==n.status?(t.$message({type:"success",message:"接单成功!"}),c.a.$emit("goNewOrder","wokerReceivedOrder",2),t.$router.push({path:"wokerReceivedOrder"})):t.$message({type:"error",message:n.msg})}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},handleCurrentChange:function(e){this.currentPage=e,this.getAllUserOrderList()}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"allUserOrderList"},[r("person-title",[e._v("当前位置 :: 接单大厅 >> "),r("em",[e._v("订单列表")])]),e._v(" "),r("div",{staticClass:"allUserOrderList-cont"},[r("wokerOrderList",{attrs:{userOrder:e.notReceiveOrder,rightOptBtn:e.rightOptBtn,titleList:e.titleList},on:{receiveOrder:e.handleReceiveOrder}})],1),e._v(" "),r("div",{staticClass:"pageination-oder"},[e.showPagination?r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"pager-count":5,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalOrder},on:{"current-change":e.handleCurrentChange}}):e._e()],1)],1)},staticRenderFns:[]};var u=r("C7Lr")(l,d,!1,function(e){r("y7MA")},null,null);t.default=u.exports},y7MA:function(e,t){}});